(this.webpackJsonpinner_training=this.webpackJsonpinner_training||[]).push([[0],{54:function(e,t,c){},55:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),a=c(20),o=c.n(a),r=(c(54),c(3)),l=(c(55),c(17)),j=c(8),i=(c.p,c(1));var b=c(18),h=c.n(b);var u=function(e){console.log(e.changed);var t=Object(n.useContext)(E),c=Object(n.useState)(!1),s=Object(r.a)(c,2),a=s[0],o=s[1],l=e.progress[e.index];return"Done"===l?Object(i.jsxs)("div",{className:"lesson done",children:[Object(i.jsxs)("h3",{children:[e.title," ",Object(i.jsx)("span",{children:"(k\xe9sz)"})]}),Object(i.jsx)("p",{className:a?"opened":"",children:e.text}),Object(i.jsx)("button",{onClick:function(){return o(!a)},children:Object(i.jsx)("strong",{children:"\u25bc"})})]}):"Act"===l?Object(i.jsxs)("div",{className:"lesson",children:[Object(i.jsx)("h3",{children:e.title}),Object(i.jsx)("p",{className:a?"opened":"",children:e.text}),a&&Object(i.jsx)("button",{onClick:function(){return e.setProgress(e.progress[e.index]="Done"),e.setProgress(e.progress[e.index+1]="Act"),console.log(e.progress),void h.a.post("http://localhost:8000/api/setprogress",{email:t.email,progress:e.progress}).then((function(t){console.log("Request sent"),e.setChanged(!e.changed),console.log(e.changed)})).catch((function(e){return console.log(e.response)}))},children:"K\xe9sz"}),Object(i.jsx)("button",{onClick:function(){return o(!a)},children:Object(i.jsx)("strong",{children:"\u25bc"})})]}):Object(i.jsxs)("div",{className:"lesson next",children:[Object(i.jsx)("h3",{children:e.title}),Object(i.jsx)("p",{className:a?"opened":"",children:e.text})]})};var d=function(e){var t=Object(n.useContext)(E),c=Object(n.useState)(""),s=Object(r.a)(c,2),a=s[0],o=s[1],l=Object(n.useState)(!1),j=Object(r.a)(l,2),b=(j[0],j[1]),d=Object(n.useState)(!1),O=Object(r.a)(d,2),x=(O[0],O[1]),g=Object(n.useState)("start"),p=Object(r.a)(g,2),m=p[0],f=p[1],v=Object(n.useState)(!1),k=Object(r.a)(v,2),S=k[0],C=k[1];return console.log(t.email),Object(n.useEffect)((function(){h.a.post("http://localhost:8000/api/progress",{email:t.email}).then((function(e){f(e.data),console.log("This is the user progress: ".concat(e.data))})).catch((function(e){return console.log(e.response)}))}),[S]),Object(n.useEffect)((function(){fetch("http://localhost:8000/api/lessons").then((function(e){return e.json()})).then((function(e){o(e.myClasses),b(!0)}),(function(e){x(!0),b(!0)}))}),[]),m&&console.log(m),a?Object(i.jsxs)("div",{children:[Object(i.jsxs)("h1",{className:"title",children:[" ",a.title]}),a&&a.lessons.map((function(e,t){return Object(i.jsx)(u,{title:e.title,text:e.text,index:t,progress:m,setProgress:f,changed:S,setChanged:C},t)}))]}):Object(i.jsx)("div",{children:"K\xe9rem v\xe1rjon, am\xedg a tananyag bet\xf6lt\u0151dik"})};var O=c(84),x=c(88);var g=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),o=Object(r.a)(a,2),l=(o[0],o[1]),j=Object(n.useState)(!1),b=Object(r.a)(j,2),h=(b[0],b[1]);return Object(n.useEffect)((function(){fetch("http://localhost:8000/api/quote").then((function(e){return e.json()})).then((function(e){s(e),l(!0)}),(function(e){h(!0),l(!0)}))}),[]),Object(i.jsx)(O.a,{children:Object(i.jsx)(x.a,{className:"mb-4",children:Object(i.jsx)(x.a.Body,{children:Object(i.jsxs)("blockquote",{className:"blockquote mb-0",children:[Object(i.jsxs)("p",{className:"pt-0",children:[" ",c," "]}),Object(i.jsxs)("footer",{className:"blockquote-footer",children:["Someone famous in ",Object(i.jsx)("cite",{title:"Source Title",children:"Bromunity"})]})]})})})})};var p=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{className:"my-3",children:"\xdcdv\xf6z\xf6llek \xc1zg\xe1rdban"}),Object(i.jsx)("h3",{children:"K\xe9rlek, jelentkezz be"}),Object(i.jsx)(g,{className:"quote"})]})},m=c(85);var f=function(e){var t=e.setUser,c=Object(j.f)();return console.log(t),Object(i.jsxs)("div",{className:"hello",children:[Object(i.jsx)("h1",{children:"\xdcdv\xf6z\xf6llek Azgardban!"}),Object(i.jsxs)("h3",{className:"p-2",children:["Tanulj, olvass, igy\xe1l egy s\xf6rt, \xe9rezd j\xf3l magad!",Object(i.jsx)("br",{}),"De ne feledd, csak a b\xe1trak jutnak a Valhall\xe1ba!",Object(i.jsx)("br",{}),"Csakis a f\xe9lelem meg a tunyas\xe1g az ellens\xe9ged! ",Object(i.jsx)("br",{}),"V\xe1gj bele h\xe1t, \xe9s tal\xe1lkozunk Odin asztal\xe1n\xe1l!"]}),Object(i.jsx)(g,{}),Object(i.jsx)(m.a,{variant:"success",href:"/basicCourse",children:"K\xe9pz\xe9sek"})," ",Object(i.jsx)(m.a,{variant:"danger",onClick:function(){h.a.delete("http://localhost:8000/api/deleteuser",{headers:{token:localStorage.getItem("jwt")}}).then((function(e){console.log("Res:",e.data.message),localStorage.removeItem("access_token"),localStorage.removeItem("jwt"),t(null),c.push("/"),c.go(0)})).catch((function(e){return console.log(e.response)}))},children:"Fi\xf3k T\xf6rl\xe9se"})," "]})};var v=function(e){var t=Object(j.g)().search,c=new URLSearchParams(t).get("code"),s=Object(j.f)();return Object(n.useEffect)((function(){h.a.post("http://localhost:8000/api/login",{code:c}).then((function(e){console.log("Res: ".concat(e.data)),localStorage.setItem("jwt",e.data),s.push("/hello"),s.go(0)})).catch((function(e){return console.log(e.response)}))}),[c,s]),Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"Authentication in progress..."})})},k=c(49),S=c(86),C=c(87);var N=function(e){var t=e.setUser,c=Object(n.useContext)(E);return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(S.a,{fixed:"top",expand:"md",bg:"dark",variant:"dark",children:Object(i.jsxs)(O.a,{children:[c?Object(i.jsxs)(S.a.Brand,{className:"google-button",children:[Object(i.jsx)("img",{src:c.picture,alt:"ProfilePicture"}),Object(i.jsx)("h3",{children:c.full_name})]}):Object(i.jsxs)(S.a.Brand,{href:"/googleauth",className:"google-button",children:[Object(i.jsx)(k.a,{className:"my-auto"}),"Login with Google"]}),Object(i.jsx)(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(i.jsx)(S.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:Object(i.jsx)(C.a,{children:c?Object(i.jsxs)("div",{children:[Object(i.jsx)(C.a.Link,{href:"/hello",children:"Hello"}),Object(i.jsx)(C.a.Link,{href:"/basicCourse",children:"K\xe9pz\xe9sek"}),Object(i.jsx)(C.a.Link,{href:"/",onClick:function(){t(null),localStorage.removeItem("jwt"),localStorage.removeItem("access_token")},children:"Kijelentkez\xe9s"})]}):Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{children:Object(i.jsx)(C.a.Link,{href:"/",children:"HOME"})})})})})]})})})},_=(c(81),c(25)),E=Object(n.createContext)(null);var T=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=(t[0],t[1],Object(n.useState)(!1)),s=Object(r.a)(c,2),a=(s[0],s[1],Object(n.useState)(!1)),o=Object(r.a)(a,2),b=(o[0],o[1],"https://accounts.google.com/o/oauth2/v2/auth?response_type=code&prompt-select_account&client_id=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLIENT_ID,"&scope=openid%20profile%20email&redirect_uri=http%3A//localhost:3000/login")),h=Object(n.useState)(!1),u=Object(r.a)(h,2),O=u[0],x=u[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("jwt");try{Object(_.a)(e)&&x(Object(_.a)(e)),Object(_.a)(e).exp<Date.now()/1e3&&(x(null),localStorage.removeItem("jwt"),localStorage.removeItem("access_token"))}catch(t){return}}),[]),Object(i.jsx)(l.a,{children:Object(i.jsx)(E.Provider,{value:O,children:Object(i.jsxs)("main",{children:[Object(i.jsx)(N,{setUser:x}),Object(i.jsx)(j.c,{children:O?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(j.a,{path:"/",exact:!0,component:p}),Object(i.jsx)(j.a,{path:"/hello",exact:!0,component:function(){return Object(i.jsx)(f,{setUser:x})}}),Object(i.jsx)(j.a,{path:"/basicCourse",exact:!0,component:d})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(j.a,{path:"/",exact:!0,component:p}),Object(i.jsx)(j.a,{path:"/googleauth",component:function(){return window.location.href=b,null}}),Object(i.jsx)(j.a,{path:"/login",exact:!0,component:v})]})})]})})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,89)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;c(e),n(e),s(e),a(e),o(e)}))};o.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(l.a,{children:Object(i.jsx)(T,{})})}),document.getElementById("root")),z()}},[[82,1,2]]]);
//# sourceMappingURL=main.bae4be01.chunk.js.map